# Maintainer: Raphael Scholer <rscholer@gmx.de>
pkgname=desktoggle-git
pkgver=1.2_16_g4a4a657
pkgrel=1
pkgdesc='Hide all windows and show the desktop.'
arch=('i686' 'x86_64')
url='https://github.com/rscholer/desktoggle'
license=('MIT')
makedepends=('git' 'help2man')
depends=('libx11')
source=("git+${url}")
md5sums=("SKIP")

build() {
  cd "${srcdir}/desktoggle"
  make
}

pkgver() {
  cd "${srcdir}/desktoggle"
  echo "$(git describe --always |sed 's#-#_#g;s#v##')"
}

package() {
  cd "${srcdir}/desktoggle"
  make DESTDIR="${pkgdir}" prefix="/usr" install

  mkdir -p ${pkgdir}/usr/share/licenses/${pkgname}
  ln -s ../../doc/desktoggle/COPYING ${pkgdir}/usr/share/licenses/${pkgname}
}
# vim:set ts=2 sw=2 et:
